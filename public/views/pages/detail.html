<form role="form" ng-submit="detail.update()">
<div class="row text-right">
  <button class="btn btn-primary">Save changes</button>
  <button class="btn btn-success" ng-click="detail.refresh()">Refresh</button>
</div>

<div class="row">
  <div class="page-header">
    <h1>{{ detail.api.name }} <small>{{ detail.api.status }}</small></h1>
  </div>
</div>

<div class="row">
  <textarea class="form-control info-text" rows=3 ng-model="detail.api.info"></textarea>
</div>

<div class="row">
  <h2>Resources</h2>
  <div class="panel panel-default" ng-repeat="(key, value) in detail.api.resources">
    <div class="panel-heading">
      <h3 class="panel-title">
        <a data-toggle="collapse" data-target="#collapse-{{ key }}">
          /{{ detail.name }}/{{ key }}/
        </a>
      </h3>
    </div>
    <div class="panel-body collapse" id="collapse-{{ key }}">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th class="text-center col-md-6">Attribut</th>
            <th class="text-center col-md-6">Datatype</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="(name, schema) in value">
            <td class="col-md-6">{{ name }}</td>
            <td class="col-md-6">
              <select class="form-control" ng-model="detail.api.resources[key][name]">
                <option>String</option>
                <option>Number</option>
                <option>Date</option>
                <option>ObjectId</option>
              </select>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
